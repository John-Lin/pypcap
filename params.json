{"name":"Pypcap","tagline":"Python/C bindings for the libpcap library","body":"# pypcap\r\n\r\nPython/C bindings for the libpcap library.\r\nMost of the functions are 1:1 mapped to the libpcap library. \r\n \r\n## Example 1\r\n\r\n```python\r\n>>> import pypcap\r\n>>> pypcap.pcap_lookupdev()\r\n'fw0'\r\n>>> pypcap.pcap_findalldevs()\r\n['fw0', 'en0', 'utun0', 'en1', 'p2p0']\r\n>>> pypcap.pcap_lookupnet('en1')\r\n('192.168.1.10', '255.255.252.0')\r\n>>> pypcap.pcap_lib_version()\r\n'libpcap version 1.1.1'\r\n```\r\n\r\n## Example 2\r\n\r\n```python\r\nfrom pypcap import pcap\r\nimport dpkt\r\nx = pcap()\r\nx.pcap_create( 'eth0' )\r\nx.pcap_set_promisc( True )\r\nx.pcap_activate()\r\nx.pcap_compile( 'udp' )\r\n\r\ndef pcap_callback(pkt):\r\n    # do stuff with packet\r\n    eth = dpkt.ethernet.Ethernet(pkt)\r\n\r\nx.pcap_set_callback(pcap_callback)\r\nx.pcap_loop()\r\n```\r\n\r\n## Notes\r\n### Linux\r\n* On 64-bit Linux, the buffer's size should be least the snap length set for the handle in use. If not, you will end up with a \"can't mmap rx ring: Invalid argument\" [error](http://stackoverflow.com/questions/11397367/issue-in-pcap-set-buffer-size). \r\n* On Linux, root privileges are required even for module functions (pcap_lookupdev, etc )\r\n\r\n### Research\r\n* Designing an iterator on top of pcap_next() is easy, but the fact that it calls pcap_dispatch() with cnt=1 seems like a performance drag compared to pcap_loop/callback. Needs more investigation.\r\n* Read more about GIL implementaion and thread-state for C Extensions\r\n\r\n### Remaining Work\r\n* Make it thread-safe\r\n* GIL / thread-state\r\n* Reference counting\r\n* Add pcap_dump routines\r\n* Add iterators for pcap_next\r\n* Add unittests\r\n* Add timestamp to pcap_loop callback\r\n* WIN32 Support\r\n\r\n### License\r\nSee LICENSE file\r\n\r\n### Requires\r\n* Python 2.5 or later\r\n* python-dev\r\n* libpcap-dev\r\n\r\n### Tested on\r\n* OSX 10.8  - x86_64\r\n* Linux     - x86_64, armv6l\r\n* Not tested on 32bit Linux/OSX, but should work\r\n","google":"UA-43294868-1","note":"Don't delete this file! It's used internally to help with page regeneration."}